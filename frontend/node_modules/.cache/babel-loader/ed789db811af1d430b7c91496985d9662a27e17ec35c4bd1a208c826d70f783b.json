{"ast":null,"code":"import React from\"react\";import{useNavigate}from\"react-router-dom\";import GoogleButton from\"react-google-button\";import{useGoogleLogin}from\"@react-oauth/google\";import{jsx as _jsx}from\"react/jsx-runtime\";const GoogleSSO=()=>{const navigate=useNavigate();const handleSuccess=codeResponse=>{const authorisation=codeResponse.code;fetch(\"/user/g-sso/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({code:authorisation})}).then(response=>response.json()).then(data=>{localStorage.setItem(\"access_token\",data[\"access_token\"]);localStorage.setItem(\"username\",data[\"username\"]);navigate(\"/\");Window.location.reload();}).catch(error=>{console.error(\"Error:\",error);});};const login=useGoogleLogin({onSuccess:handleSuccess,flow:\"auth-code\"});return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(GoogleButton,{onClick:login,label:\"Sign in using Google\"})});};export default GoogleSSO;","map":{"version":3,"names":["React","useNavigate","GoogleButton","useGoogleLogin","jsx","_jsx","GoogleSSO","navigate","handleSuccess","codeResponse","authorisation","code","fetch","method","headers","body","JSON","stringify","then","response","json","data","localStorage","setItem","Window","location","reload","catch","error","console","login","onSuccess","flow","children","onClick","label"],"sources":["/Users/rxndal/NEA2/frontend/src/components/GoogleSSO.js"],"sourcesContent":["import React from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport GoogleButton from \"react-google-button\";\nimport { useGoogleLogin } from \"@react-oauth/google\";\n\nconst GoogleSSO = () => {\n  const navigate = useNavigate();\n  const handleSuccess = (codeResponse) => {\n    const authorisation = codeResponse.code;\n    fetch(\"/user/g-sso/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({code: authorisation }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        localStorage.setItem(\"access_token\", data[\"access_token\"]);\n        localStorage.setItem(\"username\", data[\"username\"]);\n        navigate(\"/\");\n        Window.location.reload();\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n  const login = useGoogleLogin({\n    onSuccess: handleSuccess,\n    flow: \"auth-code\",\n  });\n  return (\n    <div>\n      <GoogleButton onClick={login} label=\"Sign in using Google\" />\n    </div>\n  );\n};\n\nexport default GoogleSSO;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,YAAY,KAAM,qBAAqB,CAC9C,OAASC,cAAc,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAAAC,QAAQ,CAAGN,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAO,aAAa,CAAIC,YAAY,EAAK,CACtC,KAAM,CAAAC,aAAa,CAAGD,YAAY,CAACE,IAAI,CACvCC,KAAK,CAAC,cAAc,CAAE,CACpBC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAACN,IAAI,CAAED,aAAc,CAAC,CAC7C,CAAC,CAAC,CACCQ,IAAI,CAAEC,QAAQ,EAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,EAAK,CACdC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEF,IAAI,CAAC,cAAc,CAAC,CAAC,CAC1DC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEF,IAAI,CAAC,UAAU,CAAC,CAAC,CAClDd,QAAQ,CAAC,GAAG,CAAC,CACbiB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC1B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,EAAK,CAChBC,OAAO,CAACD,KAAK,CAAC,QAAQ,CAAEA,KAAK,CAAC,CAChC,CAAC,CAAC,CACN,CAAC,CACD,KAAM,CAAAE,KAAK,CAAG3B,cAAc,CAAC,CAC3B4B,SAAS,CAAEvB,aAAa,CACxBwB,IAAI,CAAE,WACR,CAAC,CAAC,CACF,mBACE3B,IAAA,QAAA4B,QAAA,cACE5B,IAAA,CAACH,YAAY,EAACgC,OAAO,CAAEJ,KAAM,CAACK,KAAK,CAAC,sBAAsB,CAAE,CAAC,CAC1D,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}