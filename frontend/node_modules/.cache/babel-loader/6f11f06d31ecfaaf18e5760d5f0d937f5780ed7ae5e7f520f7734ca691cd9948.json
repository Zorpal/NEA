{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import GoogleSSO from\"../components/GoogleSSO\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[userlogin,setuserlogin]=useState([]);const navigate=useNavigate();const completelogin=async()=>{const response=await fetch('/user/token/',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(userlogin)});if(response.ok){const data=await response.json();localStorage.setItem('access_token',data.access);localStorage.setItem('refresh_token',data.refresh);navigate('/');window.location.reload();}};const input=e=>{const{name,value}=e.target;setuserlogin({...userlogin,[name]:value});};const submit=e=>{e.preventDefault();completelogin();};return/*#__PURE__*/_jsxs(\"form\",{className:\"container-sm w-25\",onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"form-label\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{onChange:input,type:\"username\",className:\"form-control\",name:\"username\"}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:input,type:\"password\",className:\"form-control\",name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Login\"}),/*#__PURE__*/_jsx(GoogleSSO,{})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","GoogleSSO","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","userlogin","setuserlogin","navigate","completelogin","response","fetch","method","headers","body","JSON","stringify","ok","data","json","localStorage","setItem","access","refresh","window","location","reload","input","e","name","value","target","submit","preventDefault","className","onSubmit","children","htmlFor","onChange","type","id"],"sources":["/Users/rxndal/NEA2/frontend/src/webpages/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport GoogleSSO from \"../components/GoogleSSO\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Login = () => {\n    const [userlogin, setuserlogin ] = useState([])\n    const navigate = useNavigate()\n    const completelogin = async() => {\n      const response = await fetch('/user/token/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(userlogin)\n      })\n\n      if (response.ok) {\n        const data = await response.json()\n        localStorage.setItem('access_token', data.access)\n        localStorage.setItem('refresh_token', data.refresh)\n        navigate('/')\n        window.location.reload()\n\n      }\n    }\n\n    const input = (e) => {\n      const {name, value} = e.target\n      setuserlogin({\n        ...userlogin,\n        [name]: value\n      })\n    }\n\n    const submit = (e) => {\n      e.preventDefault()\n      completelogin()\n    }\n\n  return (\n      <form className=\"container-sm w-25\" onSubmit={submit}> \n        <div className=\"mb-3\">\n          <label htmlFor=\"username\" className=\"form-label\">\n            Username\n          </label>\n          <input\n            onChange={input}\n            type=\"username\"\n            className=\"form-control\"\n            name=\"username\"\n          />\n          <div id=\"emailHelp\" className=\"form-text\">\n          </div>\n        </div>\n        <div className=\"mb-3\">\n          <label htmlFor=\"password\" className=\"form-label\">\n            Password\n          </label>\n          <input\n            onChange={input}\n            type=\"password\"\n            className=\"form-control\"\n            name=\"password\"\n          />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">\n          Login\n        </button>\n        <GoogleSSO />\n      </form>\n  );\n};\n\nexport default Login;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAE,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC/C,KAAM,CAAAW,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAS,aAAa,CAAG,KAAAA,CAAA,GAAW,CAC/B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,cAAc,CAAE,CAC3CC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACV,SAAS,CAChC,CAAC,CAAC,CAEF,GAAII,QAAQ,CAACO,EAAE,CAAE,CACf,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAClCC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEH,IAAI,CAACI,MAAM,CAAC,CACjDF,YAAY,CAACC,OAAO,CAAC,eAAe,CAAEH,IAAI,CAACK,OAAO,CAAC,CACnDf,QAAQ,CAAC,GAAG,CAAC,CACbgB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAE1B,CACF,CAAC,CAED,KAAM,CAAAC,KAAK,CAAIC,CAAC,EAAK,CACnB,KAAM,CAACC,IAAI,CAAEC,KAAK,CAAC,CAAGF,CAAC,CAACG,MAAM,CAC9BxB,YAAY,CAAC,CACX,GAAGD,SAAS,CACZ,CAACuB,IAAI,EAAGC,KACV,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAE,MAAM,CAAIJ,CAAC,EAAK,CACpBA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBxB,aAAa,CAAC,CAAC,CACjB,CAAC,CAEH,mBACIL,KAAA,SAAM8B,SAAS,CAAC,mBAAmB,CAACC,QAAQ,CAAEH,MAAO,CAAAI,QAAA,eACnDhC,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAE,QAAA,eACnBlC,IAAA,UAAOmC,OAAO,CAAC,UAAU,CAACH,SAAS,CAAC,YAAY,CAAAE,QAAA,CAAC,UAEjD,CAAO,CAAC,cACRlC,IAAA,UACEoC,QAAQ,CAAEX,KAAM,CAChBY,IAAI,CAAC,UAAU,CACfL,SAAS,CAAC,cAAc,CACxBL,IAAI,CAAC,UAAU,CAChB,CAAC,cACF3B,IAAA,QAAKsC,EAAE,CAAC,WAAW,CAACN,SAAS,CAAC,WAAW,CACpC,CAAC,EACH,CAAC,cACN9B,KAAA,QAAK8B,SAAS,CAAC,MAAM,CAAAE,QAAA,eACnBlC,IAAA,UAAOmC,OAAO,CAAC,UAAU,CAACH,SAAS,CAAC,YAAY,CAAAE,QAAA,CAAC,UAEjD,CAAO,CAAC,cACRlC,IAAA,UACEoC,QAAQ,CAAEX,KAAM,CAChBY,IAAI,CAAC,UAAU,CACfL,SAAS,CAAC,cAAc,CACxBL,IAAI,CAAC,UAAU,CAChB,CAAC,EACC,CAAC,cACN3B,IAAA,WAAQqC,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,iBAAiB,CAAAE,QAAA,CAAC,OAElD,CAAQ,CAAC,cACTlC,IAAA,CAACH,SAAS,GAAE,CAAC,EACT,CAAC,CAEb,CAAC,CAED,cAAe,CAAAM,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}